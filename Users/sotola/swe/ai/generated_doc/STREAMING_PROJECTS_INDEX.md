# Streaming & Monitoring Projects - Documentation Index

Complete exploration of four interconnected AI agent monitoring projects in `/Users/sotola/swe`.

**Exploration Date**: November 21, 2025  
**Generated By**: Claude (File Search Specialist)

---

## Documents Generated

### 1. EXPLORATION_SUMMARY.md
**Executive-level overview** of all four projects with key findings and recommendations.

**Contains**:
- Executive overview and architecture pattern
- Critical technologies and common design patterns
- Project summaries (quick reference table)
- Data ingestion points and notable implementation details
- Usage patterns (real-time, historical, network capture)
- Common issues and solutions
- Integration points and recommendations

**Best For**: Quick context, high-level understanding, troubleshooting

**Key Sections**:
- Architecture Pattern (data pipeline visualization)
- Quick reference project summaries
- Usage patterns with code examples
- Issues & solutions table

---

### 2. streaming_monitoring_projects_analysis.md
**Comprehensive deep-dive** for each project with full technical details.

**Contains**:
- Project-by-project analysis (purpose, technologies, features)
- Core architecture breakdown for each project
- Key files examined and code references
- Relation to AI agent monitoring
- 25+ data extraction modes documented
- Common patterns across all projects

**Best For**: Understanding implementation details, code navigation, architectural decisions

**Key Sections per Project**:
- Project Purpose
- Technologies Used
- Key Features & Functionality (detailed breakdown)
- Key Files Examined (with line counts)
- Relation to AI Agent Monitoring

---

### 3. projects_architecture_reference.md
**Technical reference guide** with diagrams, patterns, and operation examples.

**Contains**:
- Quick lookup comparison table
- Detailed architecture patterns with ASCII diagrams
- Data flow pattern examples
- Common operations with shell commands
- Key differences summary

**Best For**: Architecture decisions, data flow understanding, running commands

**Key Sections**:
1. Quick Lookup Table (all projects compared)
2. Architecture Patterns (redis-stream-test, live_delta_streaming, telemetry_projects, mitm-sse-addon)
3. Data Flow Patterns (escape handling, line backtracking, interleaving, provider-agnostic capture)
4. Common Operations (monitoring, analysis, network capture)

---

## Projects Covered

### Project 1: redis-stream-test
```
Location: /Users/sotola/swe/redis-stream-test/
Purpose:  Redis stream parser with escape handling & JSON formatting
Key Tech: Python, redis-py, orjson, ANSI
Main Use: Real-time Claude Code session visualization
```

**Key Features**:
- `TextDeltaNormalizer`: Handles split escape sequences across chunks
- `JsonStreamFormatter`: Incremental JSON pretty-printing
- Session-based event routing

**Documentation**: See streaming_monitoring_projects_analysis.md § 1

---

### Project 2: live_delta_streaming_with_traceback
```
Location: /Users/sotola/swe/live_delta_streaming_with_traceback/
Purpose:  FSM-based streaming with pattern detection and line rewriting
Key Tech: Python, state machines, regex
Main Use: Clean visualization of streaming function arguments
```

**Key Features**:
- Dual rendering path (provisional → recognized)
- Bash `-lc` command detection (first N deltas)
- Line backtracking with ANSI escape codes

**Documentation**: See streaming_monitoring_projects_analysis.md § 2

---

### Project 3: telemetry_projects
```
Location: /Users/sotola/swe/telemetry_projects/
Purpose:  Multi-layer log analysis and extraction toolkit
Key Tech: Python, ripgrep, duckdb, orjson
Subprojects:
  - claude_log_parser (real-time multi-flow)
  - fast_parsing (ripgrep + duckdb extraction)
  - request_extractors (25+ data modes)
  - call_id_fsm_telemetry (lifecycle validation)
```

**Key Features**:
- Real-time card-based multi-flow interleaving
- 25+ extraction modes (Claude + Codex)
- Two-phase fast parsing (prefilter + processing)
- Turn tracking and aggregation

**Documentation**: See streaming_monitoring_projects_analysis.md § 3

---

### Project 4: mitm-sse-addon
```
Location: /Users/sotola/swe/mitm-sse-addon/
Purpose:  MITM proxy addon for universal SSE logging
Key Tech: Python, mitmproxy
Main Use: Provider-agnostic network-level capture
```

**Key Features**:
- HTTP flow interception
- Session extraction (5-level priority)
- Sensitive data redaction (SHA256 hashing)
- Centralized JSONL output

**Documentation**: See streaming_monitoring_projects_analysis.md § 4

---

## Quick Navigation

### By Use Case

**I want to monitor Claude Code in real-time**
1. Start: streaming_monitoring_projects_analysis.md § 1 (redis-stream-test)
2. Reference: projects_architecture_reference.md § Common Operations → Real-Time Monitoring
3. Command: `tail -f ~/centralized-logs/claude/sse_lines.jsonl | python parse.py --show-time`

**I want to analyze Codex CLI historical data**
1. Start: streaming_monitoring_projects_analysis.md § 3 (fast_parsing subproject)
2. Reference: projects_architecture_reference.md § Common Operations → Historical Analysis
3. Command: `python latest_codex_userprompts.py -n 5 --engine rg --file ~/centralized-logs/codex/sse_lines.jsonl | jq`

**I want to understand escape sequence handling**
1. Start: EXPLORATION_SUMMARY.md § Notable Implementation Details
2. Deep-dive: streaming_monitoring_projects_analysis.md § 1.2 (Streaming Infrastructure)
3. Code: `/Users/sotola/swe/redis-stream-test/src/streaming.py` (TextDeltaNormalizer class)

**I want to set up network-level capture**
1. Start: EXPLORATION_SUMMARY.md § Usage Patterns → Network Capture
2. Reference: streaming_monitoring_projects_analysis.md § 4 (mitm-sse-addon)
3. Launch: `/Users/sotola/swe/mitm-sse-addon/launch.sh`

**I need architecture diagrams**
1. Go to: projects_architecture_reference.md § Architecture Patterns
2. Find flow by project name (sections 1-4)
3. See data flow patterns and examples

---

### By Document

**EXPLORATION_SUMMARY.md**
- Executive overview
- Key metrics and findings
- Usage patterns (copy-paste ready)
- Troubleshooting table

**streaming_monitoring_projects_analysis.md**
- Complete project breakdowns
- Technologies and features
- File references and code examples
- Design patterns section

**projects_architecture_reference.md**
- ASCII diagrams (4 detailed architectures)
- Data flow examples (4 patterns)
- Comparison tables
- Command examples

---

## Data Flow Overview

```
Sources:
├── Redis Streams (redis-stream-test)
├── SSE JSONL Files (live_delta_streaming)
└── HTTP Proxy (mitm-sse-addon)
    │
    └─→ ~/centralized-logs/
        ├── claude/sse_lines.jsonl
        ├── codex/sse_lines.jsonl
        └── all-mitm-sse/
            │
            └─→ Analysis Tools
                ├── Real-time: claude_log_parser (card-based)
                ├── Extraction: fast_parsing (ripgrep + duckdb)
                ├── Modes: request_extractors (25+ types)
                └── Validation: call_id_fsm_telemetry
                    │
                    └─→ Output
                        ├── Terminal (ANSI colored)
                        └── NDJSON files
```

---

## Common Patterns (All Projects)

1. **JSONL Format**: Newline-delimited JSON for logs and interchange
2. **State Machines**: FSM-based processing for streaming data
3. **Per-Entity Tracking**: Session/flow isolation with UUID identifiers
4. **Chunk-Aware State**: Streaming data split across boundaries
5. **Escape Normalization**: Proper handling of special characters
6. **Terminal Coloring**: ANSI codes for content type visualization
7. **Session Grouping**: Automatic aggregation by session ID

---

## Technologies Summary

| Technology | Projects | Purpose |
|-----------|----------|---------|
| Python 3.10+ | All | Primary implementation language |
| redis-py | redis-stream-test | Redis stream client |
| orjson | redis-stream-test, fast_parsing | Fast JSON serialization |
| State Machines | redis-stream-test, live_delta_streaming | Streaming data processing |
| ANSI Codes | redis-stream-test, live_delta_streaming, claude_log_parser | Terminal coloring |
| ripgrep (rg) | fast_parsing | Fast log filtering/prefiltering |
| duckdb | fast_parsing | Vectorized SQL queries over JSONL |
| mitmproxy | mitm-sse-addon | HTTP proxy framework |
| Card-Based UI | claude_log_parser | Multi-flow interleaving |

---

## File Organization

```
/Users/sotola/swe/ai/generated_doc/
├── EXPLORATION_SUMMARY.md (start here!)
├── streaming_monitoring_projects_analysis.md (deep dive)
├── projects_architecture_reference.md (diagrams + examples)
└── STREAMING_PROJECTS_INDEX.md (this file)
```

---

## Key Statistics

- **Projects Analyzed**: 4
- **Subprojects**: 8+
- **Data Extraction Modes**: 25+
- **Core Design Patterns**: 7
- **Documentation Generated**: 4 markdown files (~60 KB)
- **Code Files Examined**: 11+
- **Centralized Log Directories**: 3

---

## Next Steps

1. **For Quick Context**: Read EXPLORATION_SUMMARY.md (5-10 min)
2. **For Implementation Details**: Read streaming_monitoring_projects_analysis.md (20-30 min)
3. **For Architecture Decisions**: Use projects_architecture_reference.md as reference guide
4. **For Hands-On**: Follow usage patterns from EXPLORATION_SUMMARY.md or projects_architecture_reference.md

---

## Document Metadata

| Document | Size | Focus | Best For |
|----------|------|-------|----------|
| EXPLORATION_SUMMARY.md | 11 KB | Overview & operations | Quick understanding, troubleshooting |
| streaming_monitoring_projects_analysis.md | 17 KB | Deep technical | Implementation details, code nav |
| projects_architecture_reference.md | 13 KB | Diagrams & examples | Architecture decisions, operations |
| STREAMING_PROJECTS_INDEX.md | - | Navigation | Finding the right document |

---

**Last Updated**: November 21, 2025 22:00 UTC  
**Source**: /Users/sotola/swe (4 projects)  
**Generated**: Claude (File Search Specialist)
